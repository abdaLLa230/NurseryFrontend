# نظام التحقق من البيانات (Validation System)

تم إضافة نظام شامل للتحقق من صحة البيانات في جميع الفورمات في الموقع.

## الدوال المتاحة

### 1. `validateRequired(value, fieldName)`
التحقق من أن الحقل غير فارغ
- **المعاملات**: القيمة، اسم الحقل
- **الإرجاع**: `{ valid: boolean, error?: string }`

### 2. `validateName(value, fieldName)`
التحقق من صحة الأسماء (2-100 حرف)
- **الاستخدام**: أسماء الطلاب، الموظفين، الفصول، المستلزمات
- **القواعد**: 
  - الحد الأدنى: 2 أحرف
  - الحد الأقصى: 100 حرف
  - لا يمكن أن يكون فارغاً

### 3. `validateAge(value)`
التحقق من صحة العمر (1-120)
- **الاستخدام**: عمر الطلاب
- **القواعد**: 
  - يجب أن يكون رقماً
  - بين 1 و 120

### 4. `validatePositiveNumber(value, fieldName)`
التحقق من أن الرقم موجب
- **الاستخدام**: أي قيمة رقمية يجب أن تكون أكبر من صفر

### 5. `validateMoney(value, fieldName)`
التحقق من صحة المبالغ المالية (1-1,000,000)
- **الاستخدام**: الرواتب، الأسعار، الرسوم
- **القواعد**: 
  - الحد الأدنى: 1
  - الحد الأقصى: 1,000,000

### 6. `validatePhone(value)`
التحقق من صحة رقم الهاتف المصري
- **الاستخدام**: أرقام هواتف أولياء الأمور والموظفين
- **القواعد**: 
  - اختياري (يمكن تركه فارغاً)
  - يجب أن يبدأ بـ 01
  - 11 رقم بالضبط
  - النمط: `01[0-2,5]{1}[0-9]{8}`

### 7. `validateEmail(value)`
التحقق من صحة البريد الإلكتروني
- **الاستخدام**: تسجيل المستخدمين
- **القواعد**: نمط البريد الإلكتروني الصحيح

### 8. `validatePassword(value, minLength)`
التحقق من صحة كلمة المرور
- **الاستخدام**: تسجيل المستخدمين
- **القواعد**: 
  - الحد الأدنى: 6 أحرف (افتراضي)

### 9. `validatePasswordMatch(password, confirmPassword)`
التحقق من تطابق كلمات المرور
- **الاستخدام**: تسجيل المستخدمين

## الصفحات المحدثة

### 1. Students (الطلاب)
- ✅ التحقق من الاسم (2-100 حرف)
- ✅ التحقق من العمر (1-120)
- ✅ التحقق من رقم الهاتف (اختياري، نمط مصري)

### 2. Employees (الموظفين)
- ✅ التحقق من الاسم (2-100 حرف)
- ✅ التحقق من الوظيفة (2-100 حرف)
- ✅ التحقق من الراتب (1-1,000,000)
- ✅ التحقق من رقم الهاتف (اختياري، نمط مصري)

### 3. Classes (الفصول)
- ✅ التحقق من اسم الفصل (2-100 حرف)

### 4. Supplies (المستلزمات)
- ✅ التحقق من اسم المستلزم (2-100 حرف)
- ✅ التحقق من السعر (1-1,000,000)

### 5. Fees (الرسوم)
- ✅ التحقق من المبلغ عند الدفع (1-1,000,000)
- ✅ التحقق من المبلغ عند التعديل (1-1,000,000)

### 6. Salaries (الرواتب)
- ✅ التحقق من المبلغ عند الدفع (1-1,000,000)
- ✅ التحقق من المبلغ عند التعديل (1-1,000,000)

### 7. Register (تسجيل المستخدمين)
- ✅ التحقق من اسم المستخدم (2-100 حرف)
- ✅ التحقق من البريد الإلكتروني
- ✅ التحقق من كلمة المرور (6 أحرف على الأقل)
- ✅ التحقق من تطابق كلمات المرور

### 8. Login (تسجيل الدخول)
- ✅ التحقق الأساسي من خلال HTML5 (required)
- ℹ️ التحقق الرئيسي يتم في الـ backend

## مثال على الاستخدام

```javascript
import { validateName, validateMoney, showErrorAlert } from '../utils/helpers';

const handleSubmit = async (e) => {
  e.preventDefault();
  
  // التحقق من الاسم
  const nameValidation = validateName(formData.name, 'اسم الطالب');
  if (!nameValidation.valid) {
    showErrorAlert(nameValidation.error);
    return;
  }
  
  // التحقق من المبلغ
  const amountValidation = validateMoney(formData.amount, 'المبلغ');
  if (!amountValidation.valid) {
    showErrorAlert(amountValidation.error);
    return;
  }
  
  // إذا نجحت جميع عمليات التحقق، تابع الحفظ
  // ...
};
```

## الرسائل

جميع رسائل الخطأ باللغة العربية وواضحة للمستخدم:
- "الاسم مطلوب"
- "الاسم يجب أن يكون حرفين على الأقل"
- "العمر يجب أن يكون بين 1 و 120"
- "المبلغ يجب أن يكون أكبر من صفر"
- "رقم الهاتف غير صحيح (يجب أن يبدأ بـ 01 ويتكون من 11 رقم)"
- "البريد الإلكتروني غير صحيح"
- "كلمة المرور يجب أن تكون 6 أحرف على الأقل"
- "كلمات المرور غير متطابقة"

## ملاحظات

1. جميع الحقول النصية يتم عمل `trim()` لها قبل الحفظ
2. رقم الهاتف اختياري في جميع الفورمات
3. الرسائل تظهر باستخدام SweetAlert2 المحسّن
4. التحقق يتم قبل إرسال البيانات إلى الـ API
5. يتم إيقاف عملية الحفظ فوراً عند فشل أي validation
